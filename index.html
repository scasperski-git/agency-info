<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Agency Information Submission</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(180deg,#eef1f4,#f4f6f8);
  padding: 20px;
}

/* CARD */
.container {
  max-width: 420px;
  margin: auto;
  background: #fff;
  padding: 18px 20px 20px; /* atas dikecilkan */
  border-radius: 8px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
  position: relative;
}

/* TITLE */
h2 {
  text-align: center;
  margin: 0 0 8px; /* naik ke atas */
}

/* FORM */
label { font-weight: bold; }
input[type="text"], input[type="tel"] {
  width:100%;
  padding:10px;
  margin:5px 0 10px;
  border:1px solid #ccc;
  border-radius:5px;
  text-transform: uppercase;
}
::placeholder { text-transform:none; color:#999; }

.consent {
  font-size:13px;
  color:#555;
  margin:10px 0;
}

button {
  width:100%;
  padding:12px;
  background:#1e88e5;
  color:#fff;
  border:none;
  border-radius:5px;
  font-size:16px;
  opacity:.6;
  cursor:not-allowed;
}
button.enabled {
  opacity:1;
  cursor:pointer;
}

.helper {
  font-size:12px;
  color:#777;
  text-align:center;
  margin-top:6px;
}

/* FOOTER */
.footer {
  margin-top: 25px;
  text-align: center;
  font-size: 11px;
  color: #888;
}
.divider {
  height: 2px;
  background: linear-gradient(to right, transparent, #1e88e5, transparent);
  margin-bottom: 10px;
}
.footer a {
  color:#888;
  text-decoration:none;
}
</style>
</head>

<body>

<!-- FORM -->
<div class="container" id="formBox">
  <h2>ðŸ“„ AGENCY INFORMATION SUBMISSION</h2>

  <form oninput="updateState()" onsubmit="return submitForm();">

    <label>Agency Name (Mandatory)</label>
    <input type="text" id="agency" placeholder="Example: ABC DEBT SDN BHD">

    <label>PIC Name 1 (Mandatory)</label>
    <input type="text" id="pic1" placeholder="Example: MR JOHN DOE">

    <label>PIC Name 2 (Optional)</label>
    <input type="text" id="pic2" placeholder="Example: MISS JANE DOE">

    <label>Contact No (Mandatory)</label>
    <input type="tel" id="contact1" placeholder="Example: 0123456789" oninput="formatPhone(this)">

    <label>Contact No (Optional)</label>
    <input type="tel" id="contact2" placeholder="Example: 0123456789" oninput="formatPhone(this)">

    <label>WhatsApp No (Mandatory)</label>
    <input type="tel" id="whatsapp" placeholder="Example: 0123456789" oninput="formatPhone(this)">

    <div class="consent">
      <input type="checkbox" id="consent">
      I confirm that the information provided is accurate and consent to its use
      for official communication purposes.
    </div>

    <button type="submit" id="submitBtn">Submit</button>
    <div class="helper" id="helperText"></div>
  </form>
</div>

<!-- FOOTER -->
<div class="footer">
  <div class="divider"></div>
  <div id="trademark"></div>
  <div>
    Information submitted is collected solely for communication and
    administrative record purposes.
  </div>
</div>

<script>
/* PHONE FORMAT */
function formatPhone(el) {
  let v = el.value.replace(/\D/g,'');
  if (v.startsWith("0")) v = "6"+v;
  if (!v.startsWith("6")) v = "6"+v;
  el.value = v;
}

/* STATE */
function updateState() {
  const ok =
    agency.value &&
    pic1.value &&
    contact1.value &&
    whatsapp.value;

  submitBtn.disabled = !ok || !consent.checked;
  submitBtn.classList.toggle("enabled", ok && consent.checked);

  helperText.innerText = !ok
    ? "Please complete all mandatory fields."
    : !consent.checked
      ? "Please confirm consent to proceed."
      : "";
}

/* SUBMIT â†’ GOOGLE SHEET */
function submitForm() {
  updateState();
  if (submitBtn.disabled) return false;

  const payload = new URLSearchParams({
    agency: agency.value,
    pic1: pic1.value,
    pic2: pic2.value,
    contact1: contact1.value,
    contact2: contact2.value,
    whatsapp: whatsapp.value,
    consent: "YES",
    mode: "NEW"
  });

  fetch("PASTE_WEB_APP_URL_HERE", {
    method: "POST",
    body: payload
  });

  alert("Submission sent to Google Sheet.");
  return false;
}

/* FOOTER YEAR */
(function(){
  const year = new Date().getFullYear();
  trademark.innerHTML =
    `Â© ${year} <a href="https://sczpnet.org" target="_blank">sczpnet.org</a> Â· For Authorized Agency Use`;
})();
</script>

</body>
</html>
