<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Agency Consent Form</title>

<style>
body{
    font-family: "Segoe UI", Arial, sans-serif;
    background: linear-gradient(135deg,#e9eff5,#f7f9fb);
}
.container{
    max-width:520px;
    margin:50px auto;
    background:#fff;
    padding:30px;
    border-radius:12px;
    box-shadow:0 15px 30px rgba(0,0,0,.1);
}
h2{
    text-align:center;
    letter-spacing:1px;
}
label{
    font-weight:600;
    font-size:14px;
}
input[type=text]{
    width:100%;
    padding:12px;
    border-radius:8px;
    border:1px solid #ccc;
    margin-top:6px;
    margin-bottom:15px;
    text-transform:uppercase;
}
input:focus{
    outline:none;
    border-color:#007bff;
}
.consent{
    background:#f1f5f9;
    padding:12px;
    border-radius:8px;
    font-size:13px;
}
.consent input{
    width:auto;
    margin-right:8px;
}
button{
    width:100%;
    padding:12px;
    border-radius:8px;
    border:none;
    font-size:15px;
    font-weight:bold;
    background:#007bff;
    color:#fff;
    cursor:pointer;
    opacity:.5;
}
button.enabled{
    opacity:1;
}
button:disabled{
    cursor:not-allowed;
}
.footer{
    text-align:center;
    font-size:12px;
    margin-top:20px;
    color:#777;
}
.footer a{
    color:#777;
    text-decoration:none;
}
.footer a:hover{text-decoration:underline;}
.hidden{display:none;}
.success{
    text-align:center;
    font-size:16px;
}
</style>
</head>

<body>

<!-- FORM PAGE -->
<div class="container" id="formPage">
<h2>AGENCY CONSENT FORM</h2>

<label>AGENCY NAME</label>
<input id="agency" type="text" required>

<label>PIC NAME 1</label>
<input id="pic1" type="text" required>

<label>PIC NAME 2</label>
<input id="pic2" type="text">

<label>CONTACT NO</label>
<input id="contact" type="text" placeholder="+60123456789" oninput="formatPhone(this)" required>

<label>WHATSAPP NO</label>
<input id="whatsapp" type="text" placeholder="+60123456789" oninput="formatPhone(this)" required>

<div class="consent">
    <label>
        <input type="checkbox" id="agree" onchange="toggleSend()">
        I hereby confirm that the information provided is true and I give my consent
        for this information to be collected and used for official purposes.
    </label>
</div>

<br>
<button id="sendBtn" disabled onclick="sendData()">SEND</button>

<div class="footer">
    © <a href="https://sczpnet.org" target="_blank">sczpnet.org</a> 
    <span id="year"></span>
</div>
</div>

<!-- SUCCESS PAGE -->
<div class="container hidden" id="successPage">
    <div class="success">
        ✅<br><br>
        <b>YOUR INFORMATION HAS BEEN SUCCESSFULLY SENT</b><br>
        THANK YOU
    </div>
    <div class="footer">
        © <a href="https://sczpnet.org" target="_blank">sczpnet.org</a> 
        <span id="year2"></span>
    </div>
</div>

<script>
// YEAR AUTO
const y = new Date().getFullYear();
year.innerText = y;
year2.innerText = y;

// ENABLE SEND
function toggleSend(){
    const btn = document.getElementById("sendBtn");
    const agree = document.getElementById("agree").checked;
    btn.disabled = !agree;
    btn.classList.toggle("enabled", agree);
}

// PHONE FORMAT
function formatPhone(el){
    let v = el.value.replace(/\D/g,'');
    if(v.startsWith('0')) v = '6' + v;
    if(!v.startsWith('6')) v = '6' + v;
    el.value = '+' + v;
}

// SEND DATA
function sendData(){
    const data = {
        agency: agency.value.toUpperCase(),
        pic1: pic1.value.toUpperCase(),
        pic2: pic2.value.toUpperCase(),
        contact: contact.value,
        whatsapp: whatsapp.value
    };

    fetch("YOUR_WEB_APP_URL_HERE",{
        method:"POST",
        body:JSON.stringify(data)
    })
    .then(() => {
        formPage.classList.add("hidden");
        successPage.classList.remove("hidden");
    })
    .catch(()=>{
        alert("Submission failed. Please try again.");
    });
}
</script>

</body>
</html>
